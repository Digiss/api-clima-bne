<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>WeatherNOW</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>
    <style>
        /* Estilos do mapa */
        #map {
            height: 100vh;
            width: 100vw;
            position: relative;
        }
        
        /* Estilos do botão de tela cheia */
        #botaoFS {
            position: fixed;
            bottom: 10px;
            right: 10px;
            padding: 10px;
            background-color: #dddd;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease; /* Animação para mudança de tamanho */
        }

        /* Ajusta o tamanho do botão em tela cheia */
        :fullscreen #botaoFS {
            transform: scale(1.5); 
        }

        #imagemFS {
            width: 30px;
            height: 30px;
        }

        :fullscreen #imagemFS {
            width: 45px;
            height: 45px;
        }
    </style>
</head>
<body>
    <div id="map">
        <button onclick="alternarTelaCheia()" id="botaoFS">
            <img id="imagemFS" src="imagens/botaofullsecreen.png" alt="botaofullsecreen">
        </button>    
    </div>

    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script>
        var map = L.map('map').setView([0, 0], 1);
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        L.Control.geocoder().addTo(map);

        // Seleciona a imagem do botão
        const imagemFS = document.getElementById('imagemFS');

        function alternarTelaCheia() {
            if (!document.fullscreenElement) {
                document.getElementById('map').requestFullscreen();
                imagemFS.src = "imagens/pingadegraca.png"; // Muda a imagem para "pingadegraca.jpg" em tela cheia
            } else {
                document.exitFullscreen();
                imagemFS.src = "imagens/botaofullsecreen.png"; // Volta para a imagem original
            }
        }

        // Evento para detectar saída manual do modo de tela cheia (caso o usuário saia sem clicar no botão)
        document.addEventListener('fullscreenchange', () => {
            if (!document.fullscreenElement) {
                imagemFS.src = "imagens/botaofullsecreen.png"; // Volta para a imagem original se sair da tela cheia
            }
        });
    </script>
</body>
</html>
